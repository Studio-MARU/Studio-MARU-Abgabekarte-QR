<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>STUDIO MARU 丸 | Portfolio</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500&display=swap" rel="stylesheet">
    
    <style>
        * { box-sizing: border-box; -webkit-font-smoothing: antialiased; }

        html, body {
            height: 100dvh;
            overflow: hidden; 
            overscroll-behavior: none;
            /* NEU: Verbietet das Zoomen über CSS global */
            touch-action: pan-x pan-y; 
            background-color: #FBFBFB; 
            font-family: 'Inter', sans-serif;
            margin: 0;
            padding: 0;
            color: #222222;
        }

        /* --- HOME BUTTON OBEN RECHTS --- */
        .home-btn {
            position: fixed; 
            top: 25px;
            right: 25px;
            text-decoration: none;
            color: #666666;
            font-size: 13px;
            font-weight: 500;
            letter-spacing: 1.5px;
            text-transform: uppercase;
            z-index: 100;
            transition: color 0.3s ease;
            touch-action: manipulation;
        }

        .home-btn:hover { color: #1A1A1A; }

        /* --- PROJEKT CONTAINER --- */
        .portfolio-wrapper {
            height: 100dvh;
            overflow-y: auto; 
            padding: 60px 0 30px; 
            max-width: 500px;
            margin: 0 auto;
            display: flex;
            flex-direction: column;
            scrollbar-width: none; 
            -ms-overflow-style: none;
        }
        
        .portfolio-wrapper::-webkit-scrollbar { display: none; }

        .project {
            display: none; 
            padding: 0 24px;
            margin: auto 0; 
        }

        .project.active {
            display: block; 
            animation: smoothFadeIn 1s cubic-bezier(0.16, 1, 0.3, 1) forwards;
        }

        @keyframes smoothFadeIn {
            0% { opacity: 0; transform: translateY(15px); }
            100% { opacity: 1; transform: translateY(0); }
        }

        /* --- TEXT-BOX MIT FESTER MINDESTHÖHE --- */
        .text-area {
            min-height: 145px; 
        }

        h2 {
            font-weight: 500;
            font-size: 24px;
            letter-spacing: 1px;
            margin-top: 0;
            margin-bottom: 8px; 
            color: #1A1A1A;
        }

        .desc {
            font-weight: 300;
            font-size: 14px; 
            color: #666666;
            line-height: 1.6;
            margin-bottom: 5px; 
            display: -webkit-box;
            -webkit-line-clamp: 3; 
            -webkit-box-orient: vertical;
            overflow: hidden;
            transition: all 0.3s ease;
        }

        .desc.expanded {
            -webkit-line-clamp: unset;
        }

        .read-more-btn {
            background: none;
            border: none;
            color: #1A1A1A;
            font-family: 'Inter', sans-serif;
            font-size: 13px;
            font-weight: 500;
            text-decoration: underline;
            padding: 0;
            margin-bottom: 12px;
            cursor: pointer;
            display: none; 
            touch-action: manipulation;
        }

        /* --- BILDER KARUSSELL --- */
        .carousel {
            display: flex;
            overflow-x: auto;
            scroll-snap-type: x mandatory; 
            gap: 16px;
            padding-bottom: 5px; 
            scrollbar-width: none; 
            -ms-overflow-style: none;
            position: relative;
            cursor: grab;
        }

        .carousel:active {
            cursor: grabbing;
        }
        
        .carousel::-webkit-scrollbar { display: none; }

        .carousel-item {
            flex: 0 0 82%; 
            aspect-ratio: 4 / 5; 
            border-radius: 0; 
            overflow: hidden;
            scroll-snap-align: center; 
            position: relative;
            user-select: none;
            -webkit-user-drag: none; 
        }

        .carousel-item img {
            width: 100%;
            height: 100%;
            object-fit: cover; 
            display: block;
            pointer-events: none; 
        }

        /* --- INSTAGRAM PUNKTE (Dots) --- */
        .dots-container {
            display: flex;
            justify-content: center;
            gap: 6px;
            margin-top: 14px;
            margin-bottom: 10px; 
            min-height: 6px; 
        }

        .dot {
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background-color: #D9D9D9; 
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .dot.active {
            background-color: #766F6E; 
            transform: scale(1.2); 
        }

        /* --- NAVIGATION (BLÄTTERN) --- */
        .nav-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 50px; 
            gap: 15px;
        }

        .nav-btn {
            flex: 1;
            padding: 16px;
            background-color: #766F6E;
            color: #FFFFFF;
            border: none;
            border-radius: 6px;
            font-family: 'Inter', sans-serif;
            font-size: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            touch-action: manipulation;
        }

        .nav-btn:hover {
            background-color: #5c5655;
            transform: translateY(-2px);
        }

        .nav-btn:disabled {
            background-color: #EAEAEA;
            color: #A0A0A0;
            cursor: not-allowed;
            transform: none;
        }
    </style>
</head>
<body>

    <a href="/" class="home-btn">Home</a>

    <div class="portfolio-wrapper" id="scrollWrapper">

        <div class="project active" id="projekt-1">
            <div class="text-area">
                <h2>Brillenladen24</h2>
                <p class="desc">Entwicklung eines modernen Brandings und Briefpapiers, das die rustikale Tradition mit cleaner Eleganz verbindet. Wir haben uns besonders auf eine reduzierte Farbpalette fokussiert, um die Architektur des Hauses in den Vordergrund zu stellen. Jedes Detail, von der Visitenkarte bis hin zur Speisekarte, wurde mit größter Sorgfalt und einem Blick für das Wesentliche konzipiert.</p>
                <button class="read-more-btn" onclick="toggleText(this)">Weiterlesen</button>
            </div>
            
            <div class="carousel" id="carousel-1">
                <div class="carousel-item">
                    <img src="1-Test.png" alt="BL24 Design 1">
                </div>
                <div class="carousel-item">
                    <img src="2-Test.png" alt="BL24 Design 2">
                </div>
                <div class="carousel-item">
                    <img src="3-Test.png" alt="BL24 Design 3">
                </div>
            </div>

            <div class="dots-container" id="dots-2"></div>

            <div class="nav-buttons">
                <button class="nav-btn" onclick="wechsleProjekt(-1)">Zurück</button>
                <button class="nav-btn" onclick="wechsleProjekt(1)">Nächstes Projekt</button>
            </div>
        </div>


        <div class="project" id="projekt-2">
            <div class="text-area">
                <h2>Kaffeehaus Wien</h2>
                <p class="desc">Neugestaltung der Speisekarten und Visitenkarten. Fokus auf hochwertige Haptik und minimalistische Typografie.</p>
                <button class="read-more-btn" onclick="toggleText(this)">Weiterlesen</button>
            </div>
            
            <div class="carousel" id="carousel-2">
                <div class="carousel-item">
                    <img src="https://images.unsplash.com/photo-1559525839-b184a4d698c7?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80" alt="Kaffeehaus 1">
                </div>
                <div class="carousel-item">
                    <img src="https://images.unsplash.com/photo-1497935586351-b67a49e012bf?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80" alt="Kaffeehaus 2">
                </div>
                <div class="carousel-item">
                    <img src="https://images.unsplash.com/photo-1600612258847-19e917d84879?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80" alt="Kaffeehaus 3">
                </div>
            </div>

            <div class="dots-container" id="dots-2"></div>

            <div class="nav-buttons">
                <button class="nav-btn" onclick="wechsleProjekt(-1)">Zurück</button>
                <button class="nav-btn" onclick="wechsleProjekt(1)">Nächstes Projekt</button>
            </div>
        </div>


        <div class="project" id="projekt-3">
            <div class="text-area">
                <h2>Architektur Studio</h2>
                <p class="desc">Ein puristisches Corporate Design, das dem Raum und der Form den Vortritt lässt. Reduktion auf das Wesentliche.</p>
                <button class="read-more-btn" onclick="toggleText(this)">Weiterlesen</button>
            </div>
            
            <div class="carousel" id="carousel-3">
                <div class="carousel-item">
                    <img src="https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80" alt="Architektur 1">
                </div>
            </div>

            <div class="dots-container" id="dots-3"></div>

            <div class="nav-buttons">
                <button class="nav-btn" onclick="wechsleProjekt(-1)">Zurück</button>
                <button class="nav-btn" disabled>Ende</button>
            </div>
        </div>

    </div>

    <script>
        // --- NEU: ANTI-ZOOM SCHUTZSCHILD FÜR MOBILE GERÄTE ---
        
        // 1. Verhindert das 2-Finger-Zoomen (Pinch-to-zoom)
        document.addEventListener('touchstart', function(event) {
            if (event.touches.length > 1) {
                event.preventDefault();
            }
        }, { passive: false });

        // 2. Verhindert das wilde Heranzoomen beim schnellen Doppeltippen
        let lastTouchEnd = 0;
        document.addEventListener('touchend', function(event) {
            const now = (new Date()).getTime();
            if (now - lastTouchEnd <= 300) {
                event.preventDefault();
            }
            lastTouchEnd = now;
        }, { passive: false });
        
        // --------------------------------------------------------

        let aktuellesProjektIndex = 0;
        const projekte = document.querySelectorAll('.project');
        let currentObserver = null; 
        const scrollWrapper = document.getElementById('scrollWrapper');

        document.addEventListener('DOMContentLoaded', () => {
            initPunkteForProject(0);
            checkWeiterlesen(0);
        });

        function wechsleProjekt(richtung) {
            projekte[aktuellesProjektIndex].classList.remove('active');
            if (currentObserver) currentObserver.disconnect();
            
            aktuellesProjektIndex = aktuellesProjektIndex + richtung;
            
            setTimeout(() => {
                projekte[aktuellesProjektIndex].classList.add('active');
                initPunkteForProject(aktuellesProjektIndex);
                checkWeiterlesen(aktuellesProjektIndex);
                scrollWrapper.scrollTo({ top: 0, behavior: 'smooth' });
            }, 50);
        }

        function checkWeiterlesen(index) {
            const projektDiv = projekte[index];
            const desc = projektDiv.querySelector('.desc');
            const btn = projektDiv.querySelector('.read-more-btn');

            if (desc && btn) {
                desc.classList.remove('expanded');
                btn.textContent = "Weiterlesen";
                
                if (desc.scrollHeight > desc.clientHeight + 2) {
                    btn.style.display = "inline-block"; 
                } else {
                    btn.style.display = "none"; 
                }
            }
        }

        function toggleText(btn) {
            const desc = btn.previousElementSibling;
            desc.classList.toggle('expanded');
            
            if (desc.classList.contains('expanded')) {
                btn.textContent = "Weniger anzeigen";
            } else {
                btn.textContent = "Weiterlesen";
                scrollWrapper.scrollTo({ top: 0, behavior: 'smooth' });
            }
        }

        function initPunkteForProject(index) {
            const projektDiv = projekte[index];
            const carousel = projektDiv.querySelector('.carousel');
            const items = carousel.querySelectorAll('.carousel-item');
            const dotsContainer = projektDiv.querySelector('.dots-container');

            dotsContainer.innerHTML = '';

            if (items.length <= 1) return;

            items.forEach((item, i) => {
                const dot = document.createElement('div');
                dot.classList.add('dot');
                if (i === 0) dot.classList.add('active'); 
                
                dot.addEventListener('click', () => {
                    item.scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'center' });
                });
                
                dotsContainer.appendChild(dot);
            });

            currentObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const itemIndex = Array.from(items).indexOf(entry.target);
                        dotsContainer.querySelectorAll('.dot').forEach((d, dotIndex) => {
                           d.classList.toggle('active', dotIndex === itemIndex);
                        });
                    }
                });
            }, { 
                root: carousel, 
                threshold: 0.6 
            });

            items.forEach(item => currentObserver.observe(item));

            let isDown = false;
            let startX;
            let scrollLeft;

            carousel.addEventListener('mousedown', (e) => {
                isDown = true;
                carousel.style.scrollSnapType = 'none'; 
                startX = e.pageX - carousel.offsetLeft;
                scrollLeft = carousel.scrollLeft;
            });

            carousel.addEventListener('mouseleave', () => {
                if(!isDown) return;
                isDown = false;
                carousel.style.scrollSnapType = 'x mandatory';
            });

            carousel.addEventListener('mouseup', () => {
                if(!isDown) return;
                isDown = false;
                carousel.style.scrollSnapType = 'x mandatory';
            });

            carousel.addEventListener('mousemove', (e) => {
                if (!isDown) return;
                e.preventDefault();
                const x = e.pageX - carousel.offsetLeft;
                const walk = (x - startX) * 2; 
                carousel.scrollLeft = scrollLeft - walk;
            });
        }
    </script>

</body>
</html>
